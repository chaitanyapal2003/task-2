import numpy as np
from keras.utils import to_categorical

sequence_length = 100
with open("notes.pkl", "rb") as f:
    notes = pickle.load(f)

pitches = sorted(set(notes))
note_to_int = {note: num for num, note in enumerate(pitches)}

X = []
y = []
for i in range(0, len(notes) - sequence_length):
    seq_in = notes[i:i + sequence_length]
    seq_out = notes[i + sequence_length]
    X.append([note_to_int[n] for n in seq_in])
    y.append(note_to_int[seq_out])

X = np.reshape(X, (len(X), sequence_length, 1)) / len(pitches)
y = to_categorical(y)
